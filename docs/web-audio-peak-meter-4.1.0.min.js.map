{"version":3,"file":"web-audio-peak-meter-4.1.0.min.js","sources":["../src/config.ts","../src/utils.ts","../src/index.ts"],"sourcesContent":[null,null,null],"names":["defaultConfig","audioMeterStandard","peakHoldDuration","peakCallbackDelay","dbFromFloat","floatVal","x","y","Math","log","constructor","srcNode","peakCallback","options","this","config","Object","assign","channelCount","tempPeaks","Array","fill","heldPeaks","peakHoldIntervals","undefined","initNode","async","context","state","console","warn","node","AudioWorkletNode","parameterData","err","blob","Blob","type","objectURL","URL","createObjectURL","audioWorklet","addModule","port","onmessage","ev","handleNodePortMessage","connect","destination","invokeCallback","_a","call","getNormalizedCurrentPeakVolume","animationRequestId","requestAnimationFrame","intervalId","window","setInterval","data","message","peaks","i","length","clearInterval","clearPeak","clearPeaks","getPeaks","current","maxes","currentDB","map","maxesDB","volume","max","peakCallbackNormalizeVolume","dbRangeMin","dbRangeMax","normalizedRangeMin","normalizedRangeMax","normalizedRange","dbRange","min","cleanup","cancelAnimationFrame","disconnect"],"mappings":"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"}