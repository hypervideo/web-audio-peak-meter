{"version":3,"file":"web-audio-peak-meter-4.0.0.min.js","sources":["../src/config.ts","../src/utils.ts","../src/index.ts"],"sourcesContent":[null,null,null],"names":["defaultConfig","audioMeterStandard","peakHoldDuration","peakCallbackDelay","dbFromFloat","floatVal","x","y","Math","log","constructor","srcNode","peakCallback","options","this","config","Object","assign","channelCount","tempPeaks","Array","fill","heldPeaks","peakHoldTimeouts","initNode","async","context","state","console","warn","node","AudioWorkletNode","parameterData","err","blob","Blob","type","objectURL","URL","createObjectURL","audioWorklet","addModule","port","onmessage","ev","handleNodePortMessage","connect","destination","invokeCallback","_a","call","getNormalizedCurrentPeakVolume","animationRequestId","requestAnimationFrame","intervalId","window","setInterval","data","message","peaks","i","length","clearTimeout","setTimeout","clearPeak","clearPeaks","getPeaks","current","maxes","currentDB","map","maxesDB","volume","max","peakCallbackNormalizeVolume","dbRangeMin","dbRangeMax","normalizedRangeMin","normalizedRangeMax","normalizedRange","dbRange","min","cleanup","clearInterval","undefined","cancelAnimationFrame","disconnect"],"mappings":"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"}